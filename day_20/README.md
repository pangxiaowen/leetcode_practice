# Day_20

## 二叉搜索树的最近公共祖先

### 题目

给定一个二叉搜索树, 找到该树中两个指定节点的最近公共祖先。

百度百科中最近公共祖先的定义为：“对于有根树 T 的两个结点 p、q，最近公共祖先表示为一个结点 x，满足 x 是 p、q 的祖先且 x 的深度尽可能大（一个节点也可以是它自己的祖先）。

### 思路

1. 思路可以参考二叉树的最近公共祖先。
2. 可以根据二叉搜索树的性质，对递归进行剪枝，如：当前节点大于p和q,则遍历左子树， 当前节点小与p和q，则遍历右子树。当前节点处于p和q之间，则说明它是最近公共祖先，进行返回。
3. 二叉搜索树的搜索具有方向性。因此不使用回溯也是可以的。

## 二叉搜索树中的插入操作

### 题目

给定二叉搜索树（BST）的根节点和要插入树中的值，将值插入二叉搜索树。 返回插入后二叉搜索树的根节点。 输入数据保证，新值和原始二叉搜索树中的任意节点值都不同。

注意，可能存在多种有效的插入方式，只要树在插入后仍保持为二叉搜索树即可。 你可以返回任意有效的结果。

### 思路

1. 根据二叉搜索树的性质，找到要插入的位置即可。(插入到叶子节点)


## 删除二叉搜索树中的节点

### 题目

给定一个二叉搜索树的根节点 root 和一个值 key，删除二叉搜索树中的 key 对应的节点，并保证二叉搜索树的性质不变。返回二叉搜索树（有可能被更新）的根节点的引用。

一般来说，删除节点可分为两个步骤：

首先找到需要删除的节点； 如果找到了，删除它。 说明： 要求算法时间复杂度为 $O(h)$，h 为树的高度。

### 思路

1. 通过遍历找到key所在的节点。
2. 根据节点的情况分类处理：
    * 如果node->left 和 node->right 都是nullptr, 直接返回nullptr即可
    * 如果node->left 或 node->right 只有一个为nullptr， 返回不为nullptr的
    * 如果node->left 和 node->rigt 均不为空，则将node->left， 插入到 node->right，最左端的节点的 left上。返回node->right
3. 二叉搜索树的插入可以插入到叶子节点，不会改变树的结构， 删除节点会导致树的结构改变，因此需要注意。
4. 关于普通二叉树的节点的删除，可以先将节点的值交换到右子树最左面节点。再次访问到的时候将其删除。